<!doctype html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Itinerary - Watering Holes</title>
        <link rel="stylesheet" href="http://localhost/~jasontaikato/itinerary/css/idangerous.swiper.css" />
        <link rel="stylesheet" href="http://localhost/~jasontaikato/itinerary/css/style.css" />
        <link rel="stylesheet" href="http://localhost/~jasontaikato/itinerary/css/swiper.css" />
        <script src="http://localhost/~jasontaikato/itinerary/js/vendor/modernizr.js"></script>
        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDcRjvvKaoJuT_-v4op_kWwsV5rwQEIRG8&sensor=true"></script>
    </head>
<body>
<div id="mapPreload" class="overlay loading white"></div>
    <div id="swiperHolder" class="swiper-holder">
        <div id="swiperContainer" class="swiper-container">
            <div id="swiperWrapper" class="swiper-wrapper">
            <div class="swiper-slide white-slide"><a class="toggle-up-down slide-up"></a><div class="title"><h2>Fortune of War</h2><span>Circular Quay</span></div><div class="img-thmb"><img src="http://localhost/~jasontaikato/itinerary/img/itineraries/locations/landscape/med/fortune-of-war.jpg" alt="" /></div><div class="contentHolder"><p>The Fortune of War dates from 1828 and is Sydney's oldest pub. Embodied in the history of Sydney, the bar was the first and last port of call for generations of sailors and the troops of the Australian Armed Forces who were to experience the 'fortune of the war' when they departed Sydney Cove to defend their country. Whilst retaining its old world charm, the hotel has built an enviable reputation, for providing a warm and traditional service in a cosy, heritage bar.</p></div></div><div class="swiper-slide white-slide"><a class="toggle-up-down slide-up"></a><div class="title"><h2>The Glenmore</h2><span>The Rocks</span></div><div class="img-thmb"><img src="http://localhost/~jasontaikato/itinerary/img/itineraries/locations/landscape/med/the-glenmore.jpg" alt="" /></div><div class="contentHolder"><p>The Glenmore Hotel was built by Brewers Tooth & Co in 1921 and has been an Aussie icon ever
since. With its colonial old English charm and character, The Glenmore is a popular watering hole
and has survived depressions, wars and plagues. The Glenmore is now one of Sydney's premier
rooftop venues with 180 degree sweeping views of Sydney harbour and the CBD.</p></div></div><div class="swiper-slide white-slide"><a class="toggle-up-down slide-up"></a><div class="title"><h2>East Village Hotel</h2><span>Balmain</span></div><div class="img-thmb"><img src="http://localhost/~jasontaikato/itinerary/img/itineraries/locations/landscape/med/east-village-hotel.jpg" alt="" /></div><div class="contentHolder"><p>The East Village Hotel is a pub with a penchant for craft beer and it's a look that works. The crowd here is made up of families, young professionals and well-dressed Balmain locals who split their time between the shady beer garden, dining room and the front bar. The heavy timber tables and fireplace have an old-fashioned and comforting feel, and anyone will feel welcome at The East Village.</p></div></div><div class="swiper-slide white-slide"><a class="toggle-up-down slide-up"></a><div class="title"><h2>The Royal Oak</h2><span>Balmain</span></div><div class="img-thmb"><img src="http://localhost/~jasontaikato/itinerary/img/itineraries/locations/landscape/med/the-royal-oaks.jpg" alt="" /></div><div class="contentHolder"><p>The Royal Oak is regarded as one of the finest pubs in Balmain. Famous for its food, the Oak prides itself on using fresh, seasonal and ethically sourced ingredients to produce delicious meals of generous portions. Balancing old world charm with modern day design, the Royal Oak is a popular destination for both locals and visitors alike and offers a great range of local and imported beers both on tap and in the bottle.</p></div></div>
            </div>
        </div>
    </div>
    <div class="paginationHolder">
        <div class="pagination"></div>
    </div>
    <div class="map-large" id="mapCanvas">
    </div>
<script src="http://localhost/~jasontaikato/itinerary/js/vendor/jquery.js"></script>
<script src="http://localhost/~jasontaikato/itinerary/js/vendor/swiper/idangerous.swiper-2.1.min.js"></script>
<script>

    function changeSlideDimensions()
    {
        var swiperCount = $('.swiper-slide').length;
        var screenWidth = $('body').outerWidth();
        var newSlideWidth = ((78.125 / 100) * screenWidth);
        var newWrapperWidth = newSlideWidth*swiperCount;
        var newWrapperPadding_x = (screenWidth - newSlideWidth);
        var toggleBtnWidth = $('.toggle-up-down').outerWidth();

        $('.swiper-slide').css({
            'width': newSlideWidth
        })
        $('#swiperWrapper').css({
            'width': newWrapperWidth,
            'padding-left': newWrapperPadding_x/2,
            'padding-right': newWrapperPadding_x/2
        });
        $('.toggle-up-down').css({
            'left': (newSlideWidth/2) - (toggleBtnWidth/2)
        })
    }

 $(function(){
    $(window).resize(function() {
        mySwiper.reInit();
    });
    $(window).load(function() {
        mySwiper.reInit();
    });

    var mySwiper = new Swiper('.swiper-container',{
        pagination: '.pagination',
        paginationClickable: true,
        centeredSlides: true,
        slidesPerView: 'auto',
        resizeReInit: true,
        onSlideChangeEnd: function(swiper) {
            var activeSlide = $('.swiper-slide').eq(swiper.activeIndex);
            var activeLat = latLngArray[swiper.activeIndex].lat;
            var activeLng = latLngArray[swiper.activeIndex].lng;
            /*var activeLat = activeSlide.attr('data-lat');
            var activeLng =  activeSlide.attr('data-lng');*/
            var activeLatLng = new google.maps.LatLng(activeLat,activeLng);
            markerArray[swiper.previousIndex].setAnimation(null);
            markerArray[swiper.previousIndex].setIcon('http://localhost/~jasontaikato/itinerary/img/marker-red-hollow.png')
            markerArray[swiper.activeIndex].setIcon('http://localhost/~jasontaikato/itinerary/img/marker-red.png');
            markerArray[swiper.activeIndex].setAnimation(google.maps.Animation.BOUNCE);
            setTimeout(function() {
                markerArray[swiper.activeIndex].setAnimation(null);
            }, 750);
            map.panTo(activeLatLng);
            map.setZoom(15);
        }
    });



    $(function() {
        $('body').on('click', '.toggle-up-down', function() {
            if ($(this).hasClass('slide-up'))
            {
                $('.toggle-up-down').removeClass('slide-up').addClass('slide-down');
                $('#swiperHolder').removeClass('holder-shrink').addClass('holder-grow');
            }else if ($(this).hasClass('slide-down')) {
                $('.toggle-up-down').removeClass('slide-down').addClass('slide-up');
                $('#swiperHolder').removeClass('holder-grow').addClass('holder-shrink');
            }
        });
    });
 });
</script>
<script>



    var map;
    var marker;
    var markerArray = [];

    var latLngArray = [{lat: -33.86033790,lng: 151.20842680},{lat: -33.85877800,lng: 151.20729400},{lat: -33.85774500,lng: 151.19252900},{lat: -33.85589400,lng: 151.18095200}];

    initialize();

    function initialize() {
        //console.log('here');
        mapOptions = {
            center: new google.maps.LatLng(latLngArray[0].lat,latLngArray[0].lng),
            zoom: 15,
            zoomControl: false,
            mapTypeControlOptions: {
                style: google.maps.MapTypeControlStyle.DROPDOWN_MENU,
                position: google.maps.ControlPosition.TOP_CENTER
            }
        };

        map = new google.maps.Map(document.getElementById("mapCanvas"),mapOptions);

        for (var i=0; i<latLngArray.length; i++)
        {
            (function(latLngArray){
                var latLng = new google.maps.LatLng(latLngArray.lat,latLngArray.lng);
                var icon;
                if (i === 0)
                {
                    icon = 'http://localhost/~jasontaikato/itinerary/img/marker-red.png';
                }
                else
                {
                    icon = 'http://localhost/~jasontaikato/itinerary/img/marker-red-hollow.png';
                }

                marker = new google.maps.Marker({
                    position: latLng,
                    icon: icon,
                    map: map
                });
                markerArray.push(marker);
            }(latLngArray[i]));
        }

        google.maps.event.addListener(map, 'tilesloaded', function(evt) {
            $('#mapPreload').remove();
        });
    }


</script>
</body>
</html>